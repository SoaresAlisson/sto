<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Entities and relation extraction • sto</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Entities and relation extraction">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sto</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/entities_and_relation_extraction.html">Entities and relation extraction</a>
    </li>
    <li>
      <a href="../articles/First_steps.html">First steps with String Operations {sto} package</a>
    </li>
    <li>
      <a href="../articles/stopwords.html">Generating stopwords</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SoaresAlisson/sto/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><link href="entities_and_relation_extraction_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="entities_and_relation_extraction_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="entities_and_relation_extraction_files/d3-4.5.0/d3.min.js"></script><script src="entities_and_relation_extraction_files/forceNetwork-binding-0.4/forceNetwork.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Entities and relation extraction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SoaresAlisson/sto/blob/HEAD/vignettes/entities_and_relation_extraction.Rmd" class="external-link"><code>vignettes/entities_and_relation_extraction.Rmd</code></a></small>
      <div class="hidden name"><code>entities_and_relation_extraction.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SoaresAlisson/sto" class="external-link">sto</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="named-entity-extraction-and-its-relations">Named Entity extraction and its relations<a class="anchor" aria-label="anchor" href="#named-entity-extraction-and-its-relations"></a>
</h2>
<p>The package {sto} also provides a set of tools to extract entities
and relations from text. It does so by one of the simples form: by using
the rule based approach. It contains a rule based extraction algorithm
and a rule based relation extraction algorithm. For more advanced NER,
there is other packages such as <a href="https://cran.r-project.org/web/packages/crfsuite/index.html" class="external-link">{crfsuite}</a>,
{<a href="https://cran.r-project.org/web/packages/udpipe/" class="external-link">UDpipe</a>}
and {<a href="https://spacyr.quanteda.io/" class="external-link">spacyR</a>}. This functions
do not work so well like the NER of the mentioned packages, but we think
that, in some situations, they can be better job than joining unigram,
bigrams, trigrams and so on. Because it is a rule based approach, it is
very simple to use and also fast. It will also requires a lot of
cleaning, but you have the absolute control over which words are
extracted and what words are rejected.</p>
<p>In Natural Language Processing, to find proper names or terms that
frequently appears together is called “collocation”, e.g., to find
“United Kingdom”. You can learn more what is collocation and its
statistical details and r function in this <a href="https://sigil.r-forge.r-project.org/materials/04_collocation_analysis.pdf" class="external-link">article</a>,
and it is also possible to functions like <a href="https://quanteda.io/reference/textstat_collocations.html" class="external-link"><code>quanteda.textstats::textstat_collocations()</code></a>,
<a href="https://cran.r-project.org/web/packages/TextForecast/" class="external-link"><code>TextForecast::get_collocations()</code></a>
to identify them, but it also will require a lot of data cleaning,
specially if you want is proper names.</p>
<p>How it works?<br>
The function captures all words that:<br>
- begins with uppercase,<br>
- followed by other uppercases, lowercase or numbers, without white
space<br>
- it can contain symbols like <code>_</code>, <code>-</code> or
<code>.</code>.</p>
<p>In this way, words like “Covid-19” are also captured In languages
such as English and Portuguese, it extracts proper names. In German, it
also extracts nouns.</p>
<p>There is some trade-off, of course. It will capture a lot of
undesired words and will demand posterior cleaning, like:<br>
- It does not contain any sort of built-in classification.<br>
- “Obama Chief of Staff Rahm Emanuel” will be captured as one entity,
what is not wrong et al, but maybe not what was expect.</p>
<p>The downsides are</p>
<p>It will not capture: - entities that begin with lowercase</p>
<p>In my experience, this approach works better to certain types of text
than others. Books, formal articles can be a good option that works well
with this function. Text from social media, because it lacks formalities
of the language and have a lot of types, it will not work so well.</p>
<p>So, let’s extract some proper names from a simple text:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="st">"John Does lives in New York in United States of America."</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/extract_entity.html">extract_entity</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "John Does"                "New York"                </span></span>
<span><span class="co">#&gt; [3] "United States of America"</span></span></code></pre></div>
<p>Or it is possible to use other languages, specifying the parameter
<code>connectors</code> using the function
<code>connectors(lang)</code>. Checking the connectors:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/connectors.html">connectors</a></span><span class="op">(</span><span class="st">"eng"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "of"     "of the"</span></span>
<span><span class="fu"><a href="../reference/connectors.html">connectors</a></span><span class="op">(</span><span class="st">"pt"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "da"  "das" "de"  "do"  "dos"</span></span>
<span><span class="fu"><a href="../reference/connectors.html">connectors</a></span><span class="op">(</span><span class="st">"port"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "da"  "das" "de"  "do"  "dos"</span></span>
<span></span>
<span><span class="co"># by default, the functions uses the parameter "misc". meaning "miscellaneous".</span></span>
<span><span class="fu"><a href="../reference/connectors.html">connectors</a></span><span class="op">(</span><span class="st">"misc"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "of"     "the"    "of the" "von"    "van"    "del"</span></span></code></pre></div>
<p>Using with other languages:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="st">"João Ninguém mora em São José do Rio Preto. Ele esteve antes em Sergipe"</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/extract_entity.html">extract_entity</a></span><span class="op">(</span>connect <span class="op">=</span> <span class="fu"><a href="../reference/connectors.html">connectors</a></span><span class="op">(</span><span class="st">"pt"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "João Ninguém"          "São José do Rio Preto" "Ele"                  </span></span>
<span><span class="co">#&gt; [4] "Sergipe"</span></span>
<span></span>
<span><span class="va">vonNeumann_txt</span> <span class="op">&lt;-</span> <span class="st">"John von Neumann (/vɒn ˈnɔɪmən/ von NOY-mən; Hungarian: Neumann János Lajos [ˈnɒjmɒn ˈjaːnoʃ ˈlɒjoʃ]; December 28, 1903 – February 8, 1957) was a Hungarian and American mathematician, physicist, computer scientist and engineer"</span></span>
<span><span class="va">vonNeumann_txt</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/extract_entity.html">extract_entity</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "John von Neumann"    "NOY-"                "Hungarian"          </span></span>
<span><span class="co">#&gt; [4] "Neumann János Lajos" "December"            "February"           </span></span>
<span><span class="co">#&gt; [7] "Hungarian"           "American"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="extracting-a-graph">Extracting a graph<a class="anchor" aria-label="anchor" href="#extracting-a-graph"></a>
</h2>
<p>It is possible to extract a graph from the extracted entities. First,
happens the tokenization by sentence or paragraph. Than, the entities
are extracted using <code><a href="../reference/extract_entity.html">extract_entity()</a></code>. Than a data frame
with the co-occurrence of words in sentences or paragraph is build.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vonNeumann_txt</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/extract_graph.html">extract_graph</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Tokenizing by sentences</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 27 × 2</span></span></span>
<span><span class="co">#&gt;    n1               n2                 </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> John von Neumann NOY-               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> John von Neumann Hungarian          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> John von Neumann Neumann János Lajos</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> John von Neumann December           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> John von Neumann February           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> John von Neumann Hungarian          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> John von Neumann American           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> NOY-             Hungarian          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> NOY-             Neumann János Lajos</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> NOY-             December           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 17 more rows</span></span></span></code></pre></div>
<p>This process can take a while to run if the text/corpus is big. So,
if you are interested only in some words, so first of all, filter the
sentences/paragraphs with the desired words, and after that, extract the
graph. Seeing another example, extracting from a wikipedia article:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">page</span> <span class="op">&lt;-</span> <span class="st">"https://en.wikipedia.org/wiki/GNU_General_Public_License"</span> <span class="op">|&gt;</span> <span class="fu">rvest</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">read_html</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">text</span> <span class="op">&lt;-</span> <span class="va">page</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">rvest</span><span class="fu">::</span><span class="fu"><a href="https://rvest.tidyverse.org/reference/rename.html" class="external-link">html_nodes</a></span><span class="op">(</span><span class="st">"p"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">rvest</span><span class="fu">::</span><span class="fu"><a href="https://rvest.tidyverse.org/reference/html_text.html" class="external-link">html_text</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># looking at the scraped text:</span></span>
<span><span class="va">text</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># seeing the head of the text</span></span>
<span><span class="co">#&gt; [1] "\n\n"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     </span></span>
<span><span class="co">#&gt; [2] "The GNU General Public Licenses (GNU GPL or simply GPL) are a series of widely used free software licenses, or copyleft licenses, that guarantee end users the freedoms to run, study, share, and modify the software.[7] The license was the first copyleft for general use and was originally written by Richard Stallman, the founder of the Free Software Foundation (FSF), for the GNU Project. The license grants the recipients of a computer program the rights of the Free Software Definition.[8] The licenses in the GPL series are all copyleft licenses, which means that any derivative work must be distributed under the same or equivalent license terms. It is more restrictive than the Lesser General Public License and even further distinct from the more widely-used permissive software licenses such as BSD, MIT, and Apache.\n"</span></span></code></pre></div>
<p>And now extracting the graphs:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">text</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/extract_graph.html">extract_graph</a></span><span class="op">(</span>sw <span class="op">=</span> <span class="fu"><a href="../reference/gen_stopwords.html">gen_stopwords</a></span><span class="op">(</span><span class="st">"en"</span>, include <span class="op">=</span> <span class="st">"The This It"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Tokenizing by sentences</span></span>
<span><span class="va">g</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3,669 × 2</span></span></span>
<span><span class="co">#&gt;    n1                              n2                           </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The GNU General Public Licenses GNU GPL                      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The GNU General Public Licenses GPL                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The GNU General Public Licenses Richard Stallman             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The GNU General Public Licenses Free Software Foundation     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The GNU General Public Licenses FSF                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The GNU General Public Licenses GNU Project                  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The GNU General Public Licenses Free Software Definition     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The GNU General Public Licenses GPL                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The GNU General Public Licenses Lesser General Public License</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The GNU General Public Licenses BSD                          </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 3,659 more rows</span></span></span>
<span><span class="va">g_N</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">n1</span>, <span class="va">n2</span>, sort <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">g_N</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2,412 × 3</span></span></span>
<span><span class="co">#&gt;    n1           n2              n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> GPLv3        GPLv2          24</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Artifex      Hancom         19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Ghostscript  Hancom         19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Linux        GPL            16</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> GPL          FSF            14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> GPL-licensed GPL            14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GPL          GPLv3          13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Artifex      Ghostscript    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> However      GPL            12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FSF          GPL            11</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2,402 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_graph.html">plot_graph</a></span><span class="op">(</span><span class="va">text</span>, <span class="va">g_N</span><span class="op">)</span></span></code></pre></div>
<p><img src="entities_and_relation_extraction_files/figure-html/ploting%20the%20graph-1.png" width="700"></p>
<p>To plot an interactive graph, it is possible to use {networkD3}:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_N</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># to reduce the amount of nodes and edges in the graph</span></span>
<span>  <span class="fu">networkD3</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/networkD3/man/simpleNetwork.html" class="external-link">simpleNetwork</a></span><span class="op">(</span></span>
<span>    height <span class="op">=</span> <span class="st">"10px"</span>, width <span class="op">=</span> <span class="st">"30px"</span>,</span>
<span>    linkDistance <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    fontSize <span class="op">=</span> <span class="fl">16</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="forceNetwork html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"links":{"source":[35,8,25,44,30,32,30,8,37,22,30,30,36,24,30,34,35,56,30,30,35,42,10,30,30,25,44,50,55,30,30,30,44,45,47,54,62,7,9,19,30,34,35,38,47,49,58,1,0,11,12,13,18,22,27,30,30,32,34,34,34,34,35,25,25,36,36,36,41,43,45,46,52,57,62,0,3,5,6,8,8,8,10,14,12,15,22,16,19,19,20,28,28,30,30,30,30,30,30,30],"target":[34,36,36,30,22,30,35,25,30,30,34,40,25,30,24,35,30,30,44,55,44,22,22,9,32,8,35,30,30,26,31,50,32,30,30,61,49,34,30,22,19,44,22,30,35,41,33,36,22,30,30,30,30,35,34,21,37,57,29,51,53,59,52,30,39,8,30,39,49,35,32,30,30,32,41,35,61,35,35,30,39,60,42,32,32,30,24,32,30,35,32,24,30,2,4,17,18,23,41,48],"value":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["After","AGPL License","Also","Although the FSF","Ambiguity","Andrew Morton","Apache","Apache License","Artifex","Black Duck Software","Cisco","Copyleft","Debian","Different","DRM-restricted","Eric","Fedora","FLOSS Manuals","FOSS","Free Software Foundation","FreeBSD","Freecode","FSF","German","GFDL","Ghostscript","GNU","GNU Affero General Public License","GNU Free Documentation License","GNU Project","GPL","GPL FAQ","GPL-licensed","GPLv1","GPLv2","GPLv3","Hancom","However","In August","Judge Jacqueline Scott Corley","LGPL","License","Linksys","Linus Torvalds","Linux","Microsoft","Mundie","On","Only","Program","Richard Stallman","Rob Landley","Similarly","Software","Stallman","The FSF","The GPL","These","To","Toybox","US District Court","X11","You"],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"nodesize":[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(['#3182bd'])","fontSize":16,"fontFamily":"serif","clickTextSize":40,"linkDistance":50,"linkWidth":"'1.5px'.toString()","charge":-30,"opacity":0.6,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"d.nodesize","bounded":false,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script><p>Another text example.
<!-- "https://en.wikipedia.org/wiki/Julia_Silge" --></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">page</span> <span class="op">&lt;-</span> <span class="st">"https://en.wikipedia.org/wiki/Hurricane_Milton"</span> <span class="op">|&gt;</span> <span class="fu">rvest</span><span class="fu">::</span><span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">read_html</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">text</span> <span class="op">&lt;-</span> <span class="va">page</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">rvest</span><span class="fu">::</span><span class="fu"><a href="https://rvest.tidyverse.org/reference/rename.html" class="external-link">html_nodes</a></span><span class="op">(</span><span class="st">"p"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">rvest</span><span class="fu">::</span><span class="fu"><a href="https://rvest.tidyverse.org/reference/html_text.html" class="external-link">html_text</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">text</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># seeing the head of the tex</span></span>
<span><span class="co">#&gt; [1] "\n"   "\n\n"</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">text</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/extract_graph.html">extract_graph</a></span><span class="op">(</span>sw <span class="op">=</span> <span class="fu"><a href="../reference/gen_stopwords.html">gen_stopwords</a></span><span class="op">(</span><span class="st">"en"</span>, include <span class="op">=</span> <span class="st">"The This It"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Tokenizing by sentences</span></span>
<span><span class="va">g_N</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">n1</span>, <span class="va">n2</span>, sort <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_graph.html">plot_graph</a></span><span class="op">(</span><span class="va">text</span>, <span class="va">g_N</span>, head_n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p><img src="entities_and_relation_extraction_files/figure-html/ex2%20wiki%20Hurricane-1.png" width="700">
To plot an interactive graph, it is possible to use {networkD3}:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g_N</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># to reduce the amount of nodes and edges in the graph</span></span>
<span>  <span class="fu">networkD3</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/networkD3/man/simpleNetwork.html" class="external-link">simpleNetwork</a></span><span class="op">(</span></span>
<span>    height <span class="op">=</span> <span class="st">"10px"</span>, width <span class="op">=</span> <span class="st">"30px"</span>,</span>
<span>    linkDistance <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    fontSize <span class="op">=</span> <span class="fl">16</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="forceNetwork html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"links":{"source":[35,38,18,18,35,38,23,35,38,53,35,18,18,35,18,35,38,38,38,53,7,18,23,24,35,38,4,31,34,35,35,38,38,38,38,46,53,53,53,1,8,11,12,23,24,26,28,30,30,38,38,38,38,38,38,52,0,1,2,11,11,14,17,18,18,18,19,20,21,22,28,29,33,35,35,37,38,38,38,39,40,41,42,43,44,47,48,50,51,1,3,5,6,7,7,9,10,11,13,17],"target":[38,35,38,35,18,18,38,53,23,38,23,23,53,7,45,54,7,44,53,35,18,7,18,38,57,45,38,38,38,25,45,16,39,54,57,38,7,54,57,38,38,35,18,35,0,35,18,18,38,24,25,32,36,49,55,18,38,35,38,18,38,38,18,25,54,57,35,38,38,38,35,35,38,27,36,35,0,15,56,38,38,38,38,38,38,38,38,38,38,18,38,53,18,25,35,38,38,25,38,11],"value":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["Abaco","After","All Allegiant Air","All University of Central Florida","Amtrak","As","At","Atlantic","Auto Train","Bahamasair","Bahamian","Bay of Campeche","Big Bend","Bimini","Bradenton International Airport","Brightline","Busch Gardens Tampa Bay","Caribbean Sea","Category","Celestún","Central","Clearwater International Airport","Extreme Northwest Bahamian Islands","Florida","Grand Bahama","Gulf of Mexico","Heavy","Hurricane Felix","Hurricane Helene","Hurricane Hunters","Hurricane Milton","Jacksonville","Legoland Florida","Many","Miami","Milton","National Hurricane Center","NHC","October","Orlando","Orlando International Airport","Palm Beach International Airport","Pete","Sarasota","Several","Siesta Key","Silver Service","Southwest Florida","St","Starting","Tampa International Airport","Thousands","U.S","UTC","UTC October","Walt Disney World","West Palm Beach","Wilma"],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"nodesize":[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(['#3182bd'])","fontSize":16,"fontFamily":"serif","clickTextSize":40,"linkDistance":50,"linkWidth":"'1.5px'.toString()","charge":-30,"opacity":0.6,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"d.nodesize","bounded":false,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Alisson Soares.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
